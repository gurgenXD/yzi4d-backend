<nav class="pt-5">
    {% if paging.total_pages > 1 %}
    <ul class="pagination mb-0 justify-content-end">
       {% if paging.has_prev %}
       <li class="page-item">
          <a class="page-link rounded-2" href="{{ request.url.include_query_params(page=paging.current_page-1) }}">Назад</a>
       </li>
       {% endif %}
       {% for page in range(1, paging.total_pages+1) %}
          {% if page in (paging.current_page-1, paging.current_page, paging.current_page+1, 1, paging.total_pages) %}
             {% if page == paging.current_page-1 and page-2 >= 1 %}
             <li class="page-item disabled"><a class="page-link rounded-2" href="#">...</a></li>
             {% endif %}

             <li class="page-item {% if page == paging.current_page %}active{% endif %}">
                <a class="page-link rounded-2" href="{{ request.url.include_query_params(page=page) }}">{{ page }}</a>
             </li>

             {% if page == paging.current_page+1 and page+2 <= paging.total_pages %}
             <li class="page-item disabled"><a class="page-link rounded-2" href="#">...</a></li>
             {% endif %}
          {% endif %}
       {% endfor %}
       {% if paging.has_next %}
       <li class="page-item">
          <a class="page-link rounded-2" href="{{ request.url.include_query_params(page=paging.current_page+1) }}">Далее</a>
       </li>
       {% endif %}
    </ul>
    {% endif %}
 </nav>
</div>